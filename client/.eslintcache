[{"C:\\Users\\justin\\Desktop\\mongreact\\client\\src\\App.js":"1","C:\\Users\\justin\\Desktop\\mongreact\\client\\src\\firebase.js":"2","C:\\Users\\justin\\Desktop\\mongreact\\client\\src\\BoardFunctions.js":"3","C:\\Users\\justin\\Desktop\\mongreact\\client\\src\\index.js":"4","C:\\Users\\justin\\Desktop\\mongreact\\client\\src\\components\\Layout.js":"5","C:\\Users\\justin\\Desktop\\mongreact\\client\\src\\components\\SignIn.js":"6","C:\\Users\\justin\\Desktop\\mongreact\\client\\src\\components\\ChatMessage.js":"7","C:\\Users\\justin\\Desktop\\mongreact\\client\\src\\components\\Chat.js":"8"},{"size":2466,"mtime":1607489342844,"results":"9","hashOfConfig":"10"},{"size":905,"mtime":1607379227679,"results":"11","hashOfConfig":"10"},{"size":2932,"mtime":1606882798836,"results":"12","hashOfConfig":"10"},{"size":199,"mtime":1606511231642,"results":"13","hashOfConfig":"10"},{"size":3670,"mtime":1607490721733,"results":"14","hashOfConfig":"10"},{"size":484,"mtime":1606941456572,"results":"15","hashOfConfig":"10"},{"size":393,"mtime":1607464863444,"results":"16","hashOfConfig":"10"},{"size":1856,"mtime":1607418589517,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"20","usedDeprecatedRules":"21"},"ku5h30",{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"24","messages":"25","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"31"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38"},"C:\\Users\\justin\\Desktop\\mongreact\\client\\src\\App.js",["39","40"],"import Layout from './components/Layout'\nimport SignIn from './components/SignIn'\nimport './css/App.css'\nimport 'materialize-css/dist/css/materialize.min.css'\n\nimport { firestore, auth, storage } from './firebase'\nimport { useAuthState } from 'react-firebase-hooks/auth'\nimport React, { useState } from 'react'\n\nfunction App() {\n  const [user] = useAuthState(auth);\n  var [username, setUsername] = useState();\n  var [photoLink, setPhoto] = useState();\n  if(user){\n    var docRef = firestore.collection('users');\n    docRef.doc(user.uid).get().then(function(doc){\n      if(doc.exists){\n        setUsername(doc.data().name);\n        setPhoto(doc.data().photo);\n      }else{\n        setUsername(user.displayName);\n        setPhoto(user.photoURL);\n        docRef.doc(user.uid).set({\n          name: user.displayName,\n          photo: user.photoURL,\n          status: 'online'\n        })\n      }\n    })\n  }  \n\n  async function updateProfile(){\n    const found = await new Promise(resolve =>{\n      if(document.querySelector(\"#image-file\").files[0] !== undefined){\n        resolve(true);\n      }\n    })\n\n    if(found){\n      const file = document.querySelector(\"#image-file\").files[0];\n      const ref = storage.ref();\n      const name = user.uid;\n      //insert image into storage\n      const task = ref.child(name).put(file);\n      task.then(snapshot => {\n          snapshot.ref.getDownloadURL().then(url =>{\n              //update user's photo in firestore\n              firestore.collection('users').doc(user.uid)\n              .update({                    \n                  photo: url\n              }); \n              setPhoto(url);\n          })\n      });\n    }\n\n    const inputName = document.getElementById('changeName-input').value\n    if(inputName != user.displayName && inputName != ''){\n      setUsername(inputName);\n      firestore.collection('users').doc(user.uid).update({\n        name: inputName\n      })\n    }\n    \n  }\n\n  return (\n    <div className=\"App\">\n      <header>\n        <SignOut/>\n      </header>\n      {user ? <Layout updateProfile = {updateProfile} name = {username} photo = {photoLink} uid = {user.uid}/> : <SignIn/>}\n    </div>\n  );\n}\n\nfunction SignOut() {\n  const mystyle = {\n    position: \"absolute\",\n    left: \"0\",\n    zIndex: \"1000\",\n    bottom: \"2%\",\n    marginLeft: \"7px\",\n  };\n  return auth.currentUser && (\n    <button style = {mystyle} className=\"sign-out\" onClick={() => auth.signOut()}>Sign Out</button>\n  )\n}\n\nexport default App;",["41","42"],"C:\\Users\\justin\\Desktop\\mongreact\\client\\src\\firebase.js",[],"C:\\Users\\justin\\Desktop\\mongreact\\client\\src\\BoardFunctions.js",["43","44"],"C:\\Users\\justin\\Desktop\\mongreact\\client\\src\\index.js",[],["45","46"],"C:\\Users\\justin\\Desktop\\mongreact\\client\\src\\components\\Layout.js",["47","48"],"import React, { Component, useRef } from 'react'\r\nimport Board from './Board'\r\nimport Chat from './Chat'\r\nimport M from 'materialize-css'\r\nimport '../css/fak.css'\r\nimport io from 'socket.io-client'\r\n\r\n\r\nclass Layout extends Component{\r\n    componentDidMount(){\r\n      M.AutoInit();\r\n      document.getElementById('image-file').addEventListener('change', function(){\r\n        const reader = new FileReader();\r\n        const file = document.querySelector('#image-file').files[0];\r\n        reader.addEventListener(\"load\", function () {\r\n            // convert image file to base64 string\r\n            document.getElementById('change-pic').src = reader.result;\r\n        }, false);\r\n        if(file){\r\n            reader.readAsDataURL(file);\r\n        }\r\n      })\r\n      const socket = io({query: `uid=${this.props.uid}`});\r\n    }    \r\n    \r\n    render(){\r\n        return(\r\n            <div>\r\n                <ul id=\"sidenav\" className=\"sidenav sidenav-fixed\">\r\n                    <a className = \"modal-trigger\" href=\"#profile-modal\"><img id = \"profile-pic\" src={this.props.photo} alt = \"profile pic\"/></a>                    \r\n                    <i id = \"profile-icon\" className = \"material-icons\">person</i>\r\n                    <ul id = \"menu\" className=\"collapsible\">\r\n                    <li>\r\n                        <button id = 'play-btn' className=\"collapsible-header .noselect\">Play</button>\r\n                        <div className=\"collapsible-body\">\r\n                            <ul>\r\n                                <li><a style = {{fontSize: 17}} href=\"#!\">matchmaking</a></li>\r\n                                <li><a style = {{fontSize: 17}} href=\"#!\">friend</a></li>\r\n                            </ul>\r\n                        </div>\r\n                    </li>\r\n                    <li>\r\n                        <button id = 'social-btn' className=\"collapsible-header .noselect\">Social</button>\r\n                        <div className=\"collapsible-body\">\r\n                            <ul>\r\n                                <li><a style = {{fontSize: 17}} href=\"#!\">idk :3</a></li>\r\n                            </ul>\r\n                        </div>\r\n                    </li>\r\n                    <li>\r\n                        <button data-target=\"profile-modal\" id = 'profile-btn' className=\"modal-trigger\">Profile</button>\r\n                    </li>\r\n                    </ul>\r\n                </ul>\r\n                <div id = \"content\">\r\n                    <div id=\"profile-modal\" className=\"modal\">\r\n                        <form>\r\n                            <label>\r\n                                <img id = \"change-pic\" src={this.props.photo} alt = \"profile pic\"/>\r\n                                <i id = \"upload-icon\" className = \"material-icons\">cloud_upload</i>\r\n                                <input id = \"image-file\" type=\"file\" style = {{display:\"none\"}}/>\r\n                            </label>\r\n                        </form>\r\n                        <div id = \"change-name\">\r\n                            <label>Name</label>\r\n                            <input className = \"input-field\" defaultValue = {this.props.name} id=\"changeName-input\" maxLength=\"15\" type=\"text\" autoComplete = \"off\"/>\r\n                        </div>\r\n                        <button id = \"profile-submit\"  onClick={this.props.updateProfile} className=\"modal-close waves-effect waves-green btn-flat\">Apply</button>\r\n                    </div>\r\n                    <Board/>\r\n                    <Chat uid = {this.props.uid} name = {this.props.name} photo = {this.props.photo}/>\r\n                </div>  \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Layout","C:\\Users\\justin\\Desktop\\mongreact\\client\\src\\components\\SignIn.js",[],"C:\\Users\\justin\\Desktop\\mongreact\\client\\src\\components\\ChatMessage.js",[],"C:\\Users\\justin\\Desktop\\mongreact\\client\\src\\components\\Chat.js",["49"],"import '../css/fak.css'\r\nimport logo2 from '../images/icecat.jpg'\r\nimport { firestore, FieldValue, auth } from '../firebase'\r\nimport ChatMessage from './ChatMessage'\r\nimport { useCollectionData } from 'react-firebase-hooks/firestore';\r\nimport { useEffect } from 'react'\r\n\r\nfunction Chat(props){\r\n    const messagesRef = firestore.collection('messages');\r\n    const query = messagesRef.orderBy('createdAt').limit(25);\r\n    const [messages] = useCollectionData(query, { idField: 'id' });\r\n\r\n    useEffect(() => {\r\n        async function sendMessage(msg){\r\n            await messagesRef.add({\r\n                text: msg,\r\n                createdAt: FieldValue.serverTimestamp(),\r\n                uid: props.uid\r\n            })\r\n        }\r\n\r\n        var msgid = document.getElementById('chatarea')\r\n        msgid.addEventListener('keydown', function(e){\r\n            if(e.key === \"Enter\"){\r\n                e.preventDefault();\r\n                if (msgid.value !== ''){\r\n                    sendMessage(msgid.value);\r\n                }     \r\n                msgid.value = '';\r\n            }\r\n        })\r\n\r\n    }, [messagesRef, props.uid]);\r\n\r\n    return(\r\n        <div id = \"chatfield\">\r\n            <div id = \"turninfo\">\r\n                <img id = \"game-pic\" src={props.photo} alt = \"profile pic\"/>\r\n                <img id = \"game-pic\" src={logo2} alt = \"profile pic\"/>\r\n                <div>{props.name}</div>\r\n                <div>Player 2</div>\r\n            </div>\r\n            <div id = \"chatMessages\">\r\n                {messages && messages.map(msg => <ChatMessage uid = {msg.uid} key = {msg.id} message = {msg.text}/>)}\r\n            </div>\r\n            <div id=\"msginput\">\r\n                <textarea id='chatarea' className=\"browser-default\" type=\"text\" autoComplete=\"off\"></textarea>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Chat",{"ruleId":"50","severity":1,"message":"51","line":58,"column":18,"nodeType":"52","messageId":"53","endLine":58,"endColumn":20},{"ruleId":"50","severity":1,"message":"51","line":58,"column":51,"nodeType":"52","messageId":"53","endLine":58,"endColumn":53},{"ruleId":"54","replacedBy":"55"},{"ruleId":"56","replacedBy":"57"},{"ruleId":"58","severity":1,"message":"59","line":53,"column":19,"nodeType":"60","messageId":"61","endLine":53,"endColumn":20},{"ruleId":"58","severity":1,"message":"59","line":76,"column":17,"nodeType":"60","messageId":"61","endLine":76,"endColumn":18},{"ruleId":"54","replacedBy":"62"},{"ruleId":"56","replacedBy":"63"},{"ruleId":"64","severity":1,"message":"65","line":1,"column":28,"nodeType":"60","messageId":"66","endLine":1,"endColumn":34},{"ruleId":"64","severity":1,"message":"67","line":23,"column":13,"nodeType":"60","messageId":"66","endLine":23,"endColumn":19},{"ruleId":"64","severity":1,"message":"68","line":3,"column":33,"nodeType":"60","messageId":"66","endLine":3,"endColumn":37},"eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","no-native-reassign",["69"],"no-negated-in-lhs",["70"],"no-redeclare","'i' is already defined.","Identifier","redeclared",["69"],["70"],"no-unused-vars","'useRef' is defined but never used.","unusedVar","'socket' is assigned a value but never used.","'auth' is defined but never used.","no-global-assign","no-unsafe-negation"]