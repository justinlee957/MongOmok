{"version":3,"sources":["firebase.js","components/Play/ChallengeBox.js","images/accept.png","images/deny.png","components/Play/BoardMsg.js","components/Play/BoardChat.js","GameProvider.js","components/Play/Board.js","images/defaultPic.png","components/Play/Play.js","components/RightSidebar/User.js","components/RightSidebar/OnlineSidebar.js","components/Messages/Chat.js","components/Messages/Msg.js","components/Messages/Chatbox.js","images/back.png","components/Messages/MessageLayout.js","images/heart.png","images/filledHeart.png","components/Feed/Comment.js","components/Feed/Post.js","images/comment.png","components/Feed/Feed.js","images/picture1.png","images/cancel.png","components/SignIn/SignOut.js","components/Layout.js","images/home.png","images/play.png","images/envelope.png","images/user.png","images/pikachu.jpg","components/SignIn/SignIn.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","firestore","auth","storage","googleAuthProvider","analytics","GoogleAuthProvider","FieldValue","Challenge","props","className","style","fontSize","paddingRight","name","onClick","accept","uid","src","alt","decline","marginRight","ChallengeBox","challengeRef","collection","doc","useCollectionData","idField","initalChallenges","useState","challenges","setChallenges","useEffect","length","itemsProcessed","forEach","item","i","self","id","get","then","data","map","chal","padding","BoardMsg","text","message","msgClass","currentUser","BoardChat","messagesRef","gameData","docID","query","orderBy","limit","messages","msg","a","add","createdAt","serverTimestamp","msgid","document","getElementById","addEventListener","e","key","preventDefault","value","sendMessage","type","autoComplete","GameContext","React","createContext","GameProvider","children","Array","from","placed","setPlaced","requestedRematch","setRequestedRematch","xcoord","ycoord","x","y","j","omokarrays","Provider","Board","gameInfo","setGameInfo","turn","setTurn","opponentLeft","setOpponentLeft","canvasRef","useRef","useContext","drawPiece","color","context","getContext","fillStyle","beginPath","arc","Math","PI","closePath","fill","reInitBoard","clearRect","current","width","height","drawBoard","p","moveTo","lineTo","bh","bw","strokeStyle","stroke","movesRef","docs","socket","on","console","log","opponentName","newArray","index","delete","emit","otherUid","display","leaveMatch","ref","rect","getBoundingClientRect","clientX","left","clientY","top","x1","x2","y1","y2","numConsecHorizontal","numConsecVertical","k","UpperConsecDiagonal","LowerConsecDiagonal","checkwin","plotclosestpoint","Play","content","playerData","setPlayerData","headerStyle","photo","paddingTop","win","loss","opponentPhoto","defaultPic","User","isDesktopOrLaptop","useMediaQuery","isHovering","setHovering","dog","status","userWrapper","handleMouseHover","onMouseEnter","onMouseLeave","showChat","challenge","OnlineSidebar","usersQuery","users","otherUser","docid","displayMsgs","chatRef","exists","set","lastSent","played","user","Chat","date","strArray","d","getDate","m","getMonth","getFullYear","dateToYMD","toDate","displayChatBox","fontWeight","Msg","Chatbox","isTabletOrMobileDevice","objDiv","scrollTop","scrollHeight","backClick","onKeyDown","target","sendMsgToDb","MessageLayout","msgClicked","setMsgClicked","element","ReactDOM","render","Comment","Post","optionsBtn","options","setOptions","numLikes","setNumLikes","numComments","setNumComments","heart","liked","setLiked","displayComment","setDisplayComment","postsQuery","docId","likes","initalComments","comments","setComments","profilePic","profilePhoto","deletePost","child","undefined","filledHeart","flexDirection","gap","time","update","comment","placeholder","Feed","postImage","setPostImage","post","postsRef","months","Date","today","now","res","Promise","resolve","querySelector","files","file","put","removeImage","position","cursor","onChange","reader","FileReader","split","readAsDataURL","result","onInput","maxLength","posts","SignOut","isAnonymous","signOut","disconnect","Modal","setAppElement","customStyles","right","bottom","transform","borderRadius","overlay","backgroundColor","Layout","homeClick","bind","messagesClick","playClick","openModal","closeModal","inputChange","usersClick","state","home","play","modalIsOpen","this","setState","inGame","isMounted","openSocket","maxDeviceWidth","isOpen","onRequestClose","defaultValue","updateProfile","minDeviceWidth","Component","SignIn","LogIn","setContent","component","backgroundImage","pikachu","email","setEmail","password","setPassword","marginBottom","signInWithEmailAndPassword","catch","error","errorCode","code","errorMessage","LogInAnonymous","provider","signInWithPopup","Register","username","setUsername","EmailValidator","createUserWithEmailAndPassword","paddingBottom","signInAnonymously","anonymous","App","chatsQuery","useAuthState","photoLink","setPhoto","privateChats","setChats","setPosts","where","chats","initalPosts","snapshot","getDownloadURL","url","inputName","displayName","usersRef","photoURL","thisUser","setChatsData","setPostsData","StrictMode"],"mappings":"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","file":"static/js/main.951f2379.chunk.js","sourcesContent":["import firebase from 'firebase/app'\nimport 'firebase/auth'\nimport 'firebase/firestore'\nimport 'firebase/analytics'\nimport 'firebase/storage'\n\nconst config = {\n    apiKey: \"AIzaSyBlIoSQfMBVD9aUeElvuRONeZrEmAOBrgM\",\n    authDomain: \"omok-7511f.firebaseapp.com\",\n    projectId: \"omok-7511f\",\n    storageBucket: \"omok-7511f.appspot.com\",\n    messagingSenderId: \"620688302381\",\n    appId: \"1:620688302381:web:b368b82c4639d6a7a873a4\"\n};\nfirebase.initializeApp(config);\n\nexport default firebase;\n\nexport const firestore = firebase.firestore();\nexport const auth = firebase.auth();\nexport const storage = firebase.storage();\nexport const analytics = firebase.analytics();\nexport const googleAuthProvider = new firebase.auth.GoogleAuthProvider();\nexport const FieldValue = firebase.firestore.FieldValue;","import accept from '../../images/accept.png'\r\nimport deny from '../../images/deny.png'\r\nimport { firestore } from '../../firebase'\r\nimport { useCollectionData } from 'react-firebase-hooks/firestore'\r\nimport { useEffect, useState} from 'react'\r\n\r\n\r\nfunction ChallengeBox(props){\r\n    const challengeRef = firestore.collection('users').doc(props.uid).collection('challenges')\r\n    const [initalChallenges] = useCollectionData(challengeRef, { idField: 'id'})\r\n    var [challenges, setChallenges] = useState()\r\n\r\n    useEffect(() => {\r\n        if(initalChallenges && initalChallenges.length > 0){\r\n            var itemsProcessed = 0\r\n            initalChallenges.forEach( (item, i, self) => {\r\n                firestore.collection('users').doc(item.id).get().then(doc => {\r\n                    self[i].name = doc.data().name\r\n                    ++itemsProcessed\r\n                    if(itemsProcessed === self.length){\r\n                        setChallenges(initalChallenges)\r\n                    }\r\n                })\r\n            })\r\n        }else{\r\n            setChallenges()\r\n        }\r\n\r\n    }, [initalChallenges])\r\n\r\n    return(\r\n            <div id = \"challengeBox\">\r\n                <div id = 'challengeHeader'>Challenges</div>\r\n                {challenges && challenges.length > 0 ? challenges.map(chal => <Challenge key = {chal.id} name = {chal.name} uid = {chal.id} accept = {props.accept} decline = {props.decline}/>)\r\n                : <p style = {{fontSize: '20px', padding: '5px'}}>None :(</p>}\r\n            </div>\r\n    )\r\n}\r\n\r\nfunction Challenge(props){\r\n    return(\r\n        <div className = 'challengeWrapper'>\r\n            <p style = {{fontSize: '20px', paddingRight: '5px'}}>{props.name}</p>\r\n            <button className = 'challengeOptionBtn' onClick = {() => props.accept(props.uid)}><img className = 'challengeOptionIcon'src={accept} alt = \"accept\"/></button>\r\n            <button className = 'challengeOptionBtn' onClick = {() => props.decline(props.uid)} style = {{marginRight: '10px'}}><img className = 'challengeOptionIcon' src={deny} alt = \"deny\"/></button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ChallengeBox","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAA1ElEQVRIie3VOwrCQBRA0SvuwJW4AkvRUhHtVCzE1v8fwc4fbsSFuAIXYqNoYiycwCNFJo4TbHLbvJw3DIFA0h/LAal0THgbOAGZOPAW4AIeMLGNNwU+tY03BD6zjdeAp8LntvGqwBe28YrAl2GDWQNcnjwUXwMOUP8CLwMPha90w2M16PD5EnSVBL6JeqKResHVLCkCdzW7jYr7DTVLCgLffYv7DRTwAjoB/Kae7U1xv35gSV7gh19xP3ldxneuq6tgDziaImH/gzNwBS5Az3RBkrY3LltA/9XJVDYAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAApUlEQVRIie2VQQ6DMAwEhz4BUtT+EuhPy6HPoQdcKSASeRN6Y67YsxExBi5EWmAEQkFvAF7mSDIACzADvSDvrWcxR5IuKvSGxPLZHFnuwNsaPsBTqH04DuQOKZZ7QqrluZDT5D/2l6gOgYv41NLJbxWhTUXvhr++oqMLVb4TWZ56Jod4RrE4RJlzOSRQv+yyq34S5UchY64wsO7z0h/OgGNdX2z4AhszUxhUUXjvAAAAAElFTkSuQmCC\"","import { auth } from '../../firebase'\r\n\r\nfunction BoardMsg(props){\r\n    const text = props.message\r\n    const msgClass = props.uid === auth.currentUser.uid ? 'sent' : 'received';\r\n    return(\r\n        <div id = \"bubble\" className = {msgClass}>\r\n            <p id = \"msgTxt\" className = {msgClass+\"Text\"}>{text}</p>\r\n        </div>\r\n    )\r\n}\r\nexport default BoardMsg","import { firestore, FieldValue } from '../../firebase'\r\nimport BoardMsg from './BoardMsg'\r\nimport { useCollectionData } from 'react-firebase-hooks/firestore'\r\nimport { useEffect } from 'react'   \r\n\r\nfunction BoardChat(props){\r\n    const messagesRef = firestore.collection('games').doc(props.gameData.docID).collection('msgs')\r\n    const query = messagesRef.orderBy('createdAt').limit(25);\r\n    const [messages] = useCollectionData(query, { idField: 'id' })\r\n\r\n    useEffect(() => {\r\n        async function sendMessage(msg){\r\n            await messagesRef.add({\r\n                text: msg,\r\n                createdAt: FieldValue.serverTimestamp(),\r\n                uid: props.uid\r\n            })\r\n        }\r\n\r\n        var msgid = document.getElementById('boardChatArea')\r\n        msgid.addEventListener('keydown', function(e){\r\n            if(e.key === \"Enter\"){\r\n                e.preventDefault();\r\n                if (msgid.value !== ''){\r\n                    sendMessage(msgid.value);\r\n                }     \r\n                msgid.value = '';\r\n            }\r\n        })\r\n\r\n    }, [messagesRef, props.uid])\r\n\r\n\r\n    return(\r\n        <div id = \"boardChatField\">\r\n            <div id = \"chatMessages\">\r\n                {messages && messages.map(msg => <BoardMsg uid = {msg.uid} key = {msg.id} message = {msg.text}/>)}\r\n            </div>\r\n            <div id = \"boardMsgWrapper\">\r\n                <div id=\"boardMsgInput\">\r\n                    <textarea id='boardChatArea' className=\"browser-default\" type=\"text\" autoComplete=\"off\"></textarea>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\nexport default BoardChat","import React, { useContext, useState} from 'react'\r\n\r\nconst GameContext = React.createContext()\r\n\r\nexport function useGameContext(){\r\n    return useContext(GameContext)\r\n}\r\n\r\nexport function GameProvider({children}){\r\n    var [placed, setPlaced] = useState(Array.from({length: 10},()=> Array.from({length: 10}, () => 0)))\r\n    var [requestedRematch, setRequestedRematch] = useState()\r\n    var xcoord = []\r\n    var ycoord = []\r\n    omokarrays()\r\n    function omokarrays(){\r\n        for(var x = 0; x < 19; x++){\r\n          xcoord[x] = 26 +35*x;\r\n        }\r\n        for(var y = 0; y < 19; y++){\r\n          ycoord[y] = 26 + 35*y;\r\n        }\r\n      \r\n        for (var i = 0; i < 20; i++) {\r\n          placed[i] = new Array(20);\r\n        }\r\n        for(var j = 0; j < 20; j++){\r\n          for(i = 0; i < 20; i++){\r\n            placed[j][i] = 0;\r\n          }\r\n        }\r\n    }\r\n\r\n    return(\r\n        <GameContext.Provider value = {[placed, setPlaced, xcoord, ycoord, requestedRematch, setRequestedRematch]}>\r\n            {children}\r\n        </GameContext.Provider>\r\n    )\r\n}","import { useEffect, useRef, useState } from 'react'\r\nimport BoardChat from './BoardChat'\r\nimport { firestore, FieldValue } from '../../firebase'\r\nimport { useGameContext } from '../../GameProvider'\r\n\r\nfunction Board(props){\r\n  var [gameInfo, setGameInfo] = useState()\r\n  var [turn, setTurn] = useState()\r\n  var [opponentLeft, setOpponentLeft] = useState(false)\r\n  var canvasRef = useRef()\r\n  const [placed, setPlaced, xcoord, ycoord, requestedRematch, setRequestedRematch] = useGameContext()\r\n  \r\n  function handleClick(e){\r\n    console.log('clicked', turn)\r\n    if(turn){\r\n      const rect = canvasRef.current.getBoundingClientRect()\r\n      var x = e.clientX - rect.left\r\n      var y = e.clientY - rect.top\r\n      x-=7.5\r\n      y-=7.5\r\n      plotclosestpoint(x,y)\r\n    }\r\n  }\r\n\r\n  function plotclosestpoint(x,y){\r\n    if(x > 656){\r\n      x = 656\r\n    }else if(x < 26){\r\n      x = 26\r\n    }else{\r\n      for(var i = 0; i < 20; i++){\r\n        if(xcoord[i] <= x && xcoord[i+1] >= x ){\r\n          var x1 = xcoord[i];\r\n          var x2 = xcoord[i+1];\r\n          if(x2-x > x-x1){\r\n              x = x1;\r\n          }else{\r\n              x = x2;\r\n          }\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    if(y > 656){  \r\n      y = 656\r\n    }else if(y < 26){\r\n      y = 26\r\n    }else{\r\n      for(i = 0; i < 20; i++){\r\n        if(ycoord[i] <= y && ycoord[i+1] >= y ){\r\n          var y1 = xcoord[i]\r\n          var y2 = xcoord[i+1]\r\n        if(y2-y > y-y1){\r\n            y = y1\r\n        }else{\r\n            y = y2\r\n        }\r\n          break\r\n        }\r\n      }\r\n    }\r\n    \r\n    if(placed[(y-26)/35][(x-26)/35] !== 0){\r\n        return\r\n    }else{\r\n      drawPiece(x, y, props.gameData.color)\r\n      setTurn(false)\r\n      props.socket.emit('placePiece', {x, y, color: props.gameData.color, otherUid: props.gameData.otherUid})\r\n      firestore.collection('games').doc(props.gameData.docID).collection('moves').add({\r\n        x,\r\n        y,\r\n        color: props.gameData.color,\r\n        createdAt: FieldValue.serverTimestamp(),\r\n        uid: props.uid\r\n      }).then(() => {\r\n        placed[(y-26)/35][(x-26)/35] = 1\r\n        setPlaced(placed) \r\n        \r\n        if(checkwin()){\r\n          console.log('won')\r\n          props.socket.emit('wonGame', props.gameData.otherUid)\r\n          setGameInfo(props.name + ' wins!')\r\n          let newArray = Array.from({length: 10},()=> Array.from({length: 10}, () => 0))\r\n          setPlaced(newArray)\r\n          setTurn(false)\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  function drawPiece(x, y, color){\r\n    var context = document.getElementById('omokcanvas').getContext('2d')\r\n    context.fillStyle = color\r\n    context.beginPath();\r\n    context.arc(x+7.5, y+7.5, 12, 0, 2 * Math.PI);\r\n    context.closePath();\r\n    context.fill()\r\n  }\r\n\r\n  function reInitBoard(){\r\n    var context = document.getElementById('omokcanvas').getContext('2d')\r\n    context.clearRect(0, 0, canvasRef.current.width, canvasRef.current.height)\r\n    drawBoard()\r\n  }\r\n\r\n  function drawBoard(){\r\n    var context = document.getElementById('omokcanvas').getContext('2d')\r\n    // Box width\r\n    var bw = 630;\r\n    // Box height\r\n    var bh = 630;\r\n    // Padding\r\n    var p = 34;\r\n    context.beginPath()\r\n    for (var x = 0; x <= bw; x += 35) {\r\n        context.moveTo(0.5 + x + p, p);\r\n        context.lineTo(0.5 + x + p, bh + p);\r\n    }\r\n    for (var y = 0; y <= bh; y += 35) {\r\n        context.moveTo(p, 0.5 + y + p);\r\n        context.lineTo(bw + p, 0.5 + y + p);\r\n    }\r\n    context.strokeStyle = \"black\";\r\n    context.stroke();\r\n  }\r\n\r\n\r\n  useEffect(()=>{\r\n      drawBoard()\r\n      var movesRef = firestore.collection('games').doc(props.gameData.docID).collection('moves')\r\n\r\n      //on board render, draw out every move so far\r\n      movesRef.get().then(query=>{\r\n        if(query.docs.length === 0){\r\n          props.gameData.turn === 'first' ? setTurn(true) : setTurn(false)\r\n        }\r\n          query.forEach(doc => {\r\n            drawPiece(doc.data().x, doc.data().y, doc.data().color)\r\n          })\r\n      })\r\n\r\n      props.socket.on('opponentPlaced', data => {\r\n        drawPiece(data.x, data.y, data.color)\r\n        setTurn(true)\r\n      })\r\n      props.socket.on('lostGame', () =>{\r\n        console.log('lost')\r\n        setGameInfo(props.gameData.opponentName + ' wins!')\r\n        setTurn(false)\r\n        let newArray = Array.from({length: 10},()=> Array.from({length: 10}, () => 0))\r\n        setPlaced(newArray)\r\n        setTurn(false)\r\n      })\r\n      props.socket.on('rematchRequested', () => {\r\n        setGameInfo(props.gameData.opponentName + ' wants to rematch!')\r\n        setRequestedRematch(true)\r\n      })\r\n\r\n      props.socket.on('startRematch', () => {\r\n        //reinit game\r\n        setGameInfo()\r\n        reInitBoard()\r\n        setRequestedRematch(false)\r\n        setTurn(true)\r\n        //remove every document from moves collection\r\n        movesRef.get().then(query => {\r\n          query.docs.forEach((doc, index, self) => {\r\n            movesRef.doc(doc.id).delete().then(() =>{\r\n            })\r\n          })\r\n        })\r\n      })\r\n\r\n      props.socket.on('opponentDc', () => {\r\n        console.log('opponent left')\r\n        setGameInfo(props.gameData.opponentName + ' left')\r\n        setOpponentLeft(true)\r\n      })\r\n\r\n  }, [props.gameData.opponentName, props.socket, props.gameData.docID]) // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  function checkwin(){\r\n      var numConsecHorizontal = 0;\r\n      for(var j = 0; j < 20; j++){\r\n        for(var i = 0; i <= 20; i++){\r\n          if(placed[j][i] === 1 && placed[j][i+1] === 1){\r\n            numConsecHorizontal++\r\n            if(numConsecHorizontal === 4){\r\n              return 'win';\r\n            }\r\n          }else{\r\n            numConsecHorizontal = 0;\r\n          }\r\n        }\r\n      }\r\n    \r\n      var numConsecVertical = 0;\r\n      for(j = 0; j < 20; j++){\r\n        for(i = 0; i < 20; i++){\r\n          if(placed[i][j] === 1 && placed[i+1][j] === 1){\r\n            numConsecVertical++\r\n            if(numConsecVertical === 4){\r\n              return 'win';\r\n            }\r\n          }else{\r\n            numConsecVertical = 0;\r\n          }\r\n    \r\n        }\r\n      }\r\n      //checking left diagonals\r\n      var UpperConsecDiagonal = 0;\r\n      var LowerConsecDiagonal = 0;\r\n      for(j = 0; j < 20; j++){\r\n        for(i = 0; i < 20-j; i++){\r\n          if(placed[i][i+j] === 1 && placed[i+1][i+1+j] === 1){\r\n            UpperConsecDiagonal++;\r\n            if(UpperConsecDiagonal === 4){\r\n              return 'win';\r\n            }\r\n          }else{\r\n            UpperConsecDiagonal = 0;\r\n          }\r\n        }\r\n        for(i = 0; i < 20-j; i++){\r\n          if(placed[i+j][i] === 1 && placed[i+1+j][i+1] === 1){\r\n            LowerConsecDiagonal++;\r\n            if(LowerConsecDiagonal === 4){\r\n              return 'win';\r\n            }\r\n          }else{\r\n            LowerConsecDiagonal = 0;\r\n          }\r\n        }\r\n      }\r\n    \r\n      var k\r\n      for(i = 0; i < 19; i++){\r\n        for(j = 19, k = 0; j >= 0; k++, j--){\r\n          if(placed[k][j-i] === 1 && placed[k+1][j-1-i] === 1){\r\n            UpperConsecDiagonal++;\r\n            if(UpperConsecDiagonal === 4){\r\n              return 'win';\r\n            }\r\n          }else{\r\n            UpperConsecDiagonal = 0;\r\n          }\r\n        }\r\n    \r\n        for(j = 19, k = 1; k+i < 19; k++, j--){\r\n          if(placed[k+i][j] === 1 && placed[k+i+1][j-1] === 1){\r\n            LowerConsecDiagonal++;\r\n            if(LowerConsecDiagonal === 4){\r\n              return 'win';\r\n            }\r\n          }else{\r\n            LowerConsecDiagonal = 0;\r\n          }\r\n        }\r\n      }\r\n    \r\n      return 0;\r\n  }\r\n\r\n  function requestRematch(){\r\n    if(requestedRematch){\r\n      props.socket.emit('acceptRematch', props.gameData.otherUid)\r\n      //reinit game\r\n      setGameInfo()\r\n      reInitBoard()\r\n    }else{\r\n      props.socket.emit('requestRematch', props.gameData.otherUid)\r\n      setGameInfo('Rematch Requested')\r\n      document.getElementById('rematchBtn').style.display = 'none'\r\n      setRequestedRematch(false)\r\n    }\r\n  }\r\n\r\n  return(\r\n      <div id = 'gameWrapper'>\r\n        <div>\r\n          {gameInfo &&\r\n            <div id = 'gameResultWrapper'> \r\n              <p id = 'gameResult'>{gameInfo}</p>\r\n              {!opponentLeft && <button id = 'rematchBtn' onClick = {requestRematch}>rematch</button>}\r\n              <button id = 'leaveBtn' onClick = {props.leaveMatch}>leave</button>\r\n            </div>\r\n          }\r\n          <canvas ref = {canvasRef} onClick = {handleClick} id = \"omokcanvas\" width = \"700\" height=\"700\" />\r\n        </div>\r\n          <BoardChat {...props}/>\r\n      </div> \r\n  )\r\n    \r\n}\r\n\r\nexport default Board","export default \"data:image/png;base64,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\"","import ChallengeBox from './ChallengeBox'\r\nimport { useState, useEffect } from 'react'\r\nimport Board from './Board'\r\nimport { firestore } from '../../firebase'\r\nimport defaultPic from '../../images/defaultPic.png'\r\nfunction Play(props){\r\n    var [playerData, setPlayerData] = useState()\r\n    var content\r\n    var headerStyle = {width: '100%'}\r\n\r\n    //show board\r\n    if(props.gameData){\r\n        content = <Board {...props}/>\r\n        headerStyle = {width: 'calc(100% - 400px)'}\r\n    //show challenges\r\n    }else{\r\n        content = <div id = 'challengeBoxWrapper'>\r\n                    <ChallengeBox {...props} accept = {accept} decline = {decline}/>\r\n                    {playerData && \r\n                        <div id = 'playerDataBox'>\r\n                            <p style = {{paddingTop: '5px'}}>win: {playerData.win}</p>\r\n                            <p>lose: {playerData.loss}</p>\r\n                        </div>}\r\n                    <div id = 'challengeHelper'>Challenge players on the right!</div>\r\n                  </div>\r\n    }\r\n\r\n    var opponentPhoto =  props.gameData && props.gameData.opponentPhoto ? props.gameData.opponentPhoto : defaultPic\r\n\r\n    useEffect(()=>{\r\n        firestore.collection('users').doc(props.uid).get().then(doc => {\r\n            var data = {win: doc.data().win, loss: doc.data().loss}\r\n            setPlayerData(data)\r\n        })\r\n    }, [])\r\n\r\n    \r\n    function accept(otherUid){\r\n        props.socket.emit('acceptGame', {otherUid, name: props.name, photo: props.photo})\r\n    }\r\n\r\n    function decline(otherUid){\r\n        firestore.collection('users').doc(props.uid).collection('challenges').doc(otherUid).delete()\r\n    }\r\n\r\n    return(\r\n        <div id = 'playWrapper'>\r\n            <div id = 'playHeaderWrapper'>\r\n                <div id = 'playHeader' style = {headerStyle}>Play</div>\r\n                {props.gameData  &&\r\n                <div style = {{paddingTop: '4px'}}>\r\n                    <img id = \"opponentPhoto\" src={opponentPhoto} alt = \"opponentPhoto\"/> \r\n                    <div id = 'playOpponentHeader'>{props.gameData.opponentName}</div>\r\n                </div>}\r\n            </div>\r\n            <div id = 'playContent'>\r\n                {content}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Play","import { useState } from 'react'\r\nimport { auth } from '../../firebase'\r\nimport dog from '../../images/defaultPic.png'\r\nimport { useMediaQuery } from 'react-responsive'\r\n\r\nfunction User(props){\r\n    const isDesktopOrLaptop = useMediaQuery({\r\n        query: '(min-device-width: 700px)'\r\n    })\r\n    var [isHovering, setHovering] = useState(false)\r\n    var photo = props.photo ? props.photo : dog\r\n    var status = props.status === 'online' ? 'onlineDot' : null\r\n    var userWrapper = props.uid === auth.currentUser.uid ? 'myUserWrapper' : 'userInfoWrapper'\r\n\r\n    function handleMouseHover(){\r\n        if(isDesktopOrLaptop){\r\n            setHovering(!isHovering)\r\n        }\r\n    }\r\n\r\n    function handleChallengeClick(){\r\n        setHovering(false)\r\n        props.challenge(props.uid)\r\n    }\r\n\r\n\r\n    return(\r\n        <>\r\n        <div className = {userWrapper} onMouseEnter = {handleMouseHover} onMouseLeave = {handleMouseHover}>\r\n            <img id = \"onlinePic\" src={photo} alt = \"profile pic\"/>\r\n            {status && <div className = {status}></div>}\r\n            <div className = \"onlineUsername\">{props.name}</div>\r\n\r\n            {isHovering && userWrapper ==='userInfoWrapper' && \r\n            <div className = \"userOptions\">\r\n                <button className = \"userOptionsBtn\" onClick = {() => props.showChat(props)}>Message</button>\r\n                <button className = \"userOptionsBtn\" onClick = {handleChallengeClick}>Challenge</button>\r\n            </div>}\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default User","import User from './User'\r\nimport { firestore, FieldValue } from '../../firebase'\r\nimport { useCollectionData } from 'react-firebase-hooks/firestore'\r\n\r\nfunction OnlineSidebar(props){\r\n    var usersQuery =  firestore.collection('users').orderBy(\"status\", \"desc\").limit(10)\r\n    var [users] = useCollectionData(usersQuery, { idField: 'id' })\r\n\r\n    function showChat(otherUser){\r\n        props.displayMsgs() \r\n        var docid\r\n        var users = [props.uid, otherUser.uid]\r\n\r\n        if(props.uid < otherUser){\r\n            docid = props.uid + '+' + otherUser.uid\r\n        }else{\r\n            docid = otherUser.uid + '+' + props.uid\r\n        }\r\n\r\n        var chatRef = firestore.collection('chats')\r\n        chatRef.doc(docid).get()\r\n            .then(doc =>{\r\n                if(!doc.exists){\r\n                    chatRef.doc(docid).set({\r\n                        users,\r\n                        lastSent: FieldValue.serverTimestamp(),\r\n                    })\r\n                }\r\n            })\r\n    }\r\n\r\n    function challenge(otherUid){\r\n        firestore.collection('users').doc(otherUid).collection('challenges').doc(props.uid).set({played: 'no', name: props.name})\r\n    }\r\n\r\n    return(\r\n        <div id = \"onlineSidebar\">\r\n            <div id = \"usersTitle\">Users</div>\r\n             {users && users.map(user => <User key = {user.id} uid = {user.id} photo = {user.photo} name = {user.name} status = {user.status} showChat = {showChat} challenge = {challenge}/>)} \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default OnlineSidebar","import dog from '../../images/defaultPic.png'\r\n\r\nfunction Chat(props){\r\n    var photo = props.photo ? props.photo : dog\r\n    var date = dateToYMD(props.lastSent.toDate())\r\n    return(\r\n        <div className = 'msg' onClick = {() => props.displayChatBox(props)}>\r\n            <img className = \"msgProfile-pic\" src={photo} alt = \"profile pic\"/> \r\n            <div className = 'msgUserInfo'>\r\n                <div style = {{ fontWeight: \"600\"}}>{props.name}</div>\r\n                <div style = {{ color: \"grey\"}}>{date}</div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction dateToYMD(date) {\r\n    var strArray=['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']\r\n    var d = date.getDate()\r\n    var m = strArray[date.getMonth()]\r\n    var y = date.getFullYear()\r\n    return '' + m + ' ' + (d <= 9 ? '0' + d : d)\r\n}\r\n\r\nexport default Chat","import { auth } from '../../firebase'\r\n\r\nfunction Msg(props){\r\n    const text = props.text\r\n    const msgClass = props.uid === auth.currentUser.uid ? 'sent' : 'received';\r\n    return(\r\n        <div id = \"bubble\" className = {msgClass}>\r\n            <p id = \"msgTxt\" className = {msgClass+\"Text\"}>{text}</p>\r\n        </div>\r\n    )\r\n}\r\nexport default Msg","import { firestore, FieldValue } from '../../firebase'\r\nimport { useCollectionData } from 'react-firebase-hooks/firestore'\r\nimport { useEffect} from 'react'\r\nimport Msg from './Msg'\r\nimport { useMediaQuery } from 'react-responsive'\r\nimport back from '../../images/back.png'\r\nimport dog from '../../images/defaultPic.png'\r\n\r\nfunction Chatbox(props){\r\n    var photo = props.photo ? props.photo : dog\r\n    const messagesRef = firestore.collection('chats').doc(props.id).collection('messages')\r\n    const query = messagesRef.orderBy('createdAt').limit(25)\r\n    const [messages] = useCollectionData(query, { idField: 'id'})\r\n\r\n    const isTabletOrMobileDevice = useMediaQuery({\r\n        query: '(max-device-width: 700px)'\r\n    })\r\n\r\n    function sendMsg(e){\r\n        if(e.key === 'Enter'){\r\n            e.preventDefault();\r\n            const msg = e.target.value\r\n            if(msg !== ''){\r\n                sendMsgToDb(msg)\r\n            }\r\n            e.target.value = ''\r\n        }\r\n    }\r\n\r\n    async function sendMsgToDb(msg){\r\n        await messagesRef.add({\r\n            text: msg,\r\n            createdAt: FieldValue.serverTimestamp(),\r\n            uid: props.uid\r\n        })\r\n    }\r\n\r\n    useEffect( ()=> {\r\n        var objDiv = document.getElementById(\"msgArea\")\r\n        if(objDiv){\r\n            objDiv.scrollTop = objDiv.scrollHeight\r\n        }\r\n    })\r\n\r\n    return(\r\n        <div id = 'chatbox'>\r\n            <div id = 'msgTextHeader' style = {{ paddingTop: '5px'}}>\r\n                {isTabletOrMobileDevice && <img onClick = {props.backClick} id = \"backMsgBtn\" src={back} alt = \"backMsgBtn\"/> }\r\n                <img className = \"chatBox-Pic\" src={photo} alt = \"profile pic\"/> \r\n                {props.name}\r\n            </div>\r\n            <div id = 'msgArea'>\r\n                {messages && messages.map(message => <Msg key = {message.id} text = {message.text} uid = {message.uid}/>)}\r\n            </div>\r\n            <div className = 'msgInputWrapper'>\r\n                <div className = 'msgInput'>\r\n                    <textarea id='chatInputArea' onKeyDown = { sendMsg } className=\"browser-default\" type=\"text\" autoComplete=\"off\"></textarea>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Chatbox","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAABjklEQVRoge3asU4UQRyA8R+YsyCUJMTCQhJKCx7A5CiwtqPyAaSCijcQWh4AKuytbLCw0eJ8AC3oTCDSGCkIEGQtzomce5vMcZD/jdkv2WaTTb5NduebmV1aWh6Nc/GDu7K4JV300MGHYJeReYofqP4cO5gONRqBJzjyV77CLzyLlMplDl8NyldYj5TKZQaf1OVfR0rl0sE7dfl9TAV6ZTGFPXX5AzwM9MpmW12+h9lIqVzW1OUPMR8plcuq/vB4U/47FiOlcuni3KD8TyxFSuXyb2UrXGAlUiqXYZW9xstIqVyaKrsRKZVLU2W3IqVyaarsGwVX9r2CK/tZW9n7Z1hlj7EQKZXLsnplTwVU9rZr0Krh/MSPODcp+hFKvFLwS5zYUvAwSv+531VwyOjv8L1V6FQiMYOP6jexHSk1KnP4otDpdOIxvil0QZMYtqS8xPNIqVEZtqgPmW6MwwtcGbyJE4VsqyTaWk8Cba0nhaZaF7H1kvgval30R75E0Z9ZE12cYTNaZBzG+tWgJZrfnsjRrgELpIEAAAAASUVORK5CYII=\"","import Chat from './Chat'\r\nimport Chatbox from './Chatbox'\r\nimport ReactDOM from 'react-dom'\r\nimport { useState } from 'react'\r\nimport { useMediaQuery } from 'react-responsive'\r\n\r\nfunction MessageLayout(props){\r\n    var [msgClicked, setMsgClicked] = useState(false)\r\n    const isDesktopOrLaptop = useMediaQuery({\r\n        query: '(min-device-width: 700px)'\r\n    })\r\n    const isTabletOrMobileDevice = useMediaQuery({\r\n        query: '(max-device-width: 700px)'\r\n    })\r\n\r\n    function displayChatBox(data){\r\n        const element = <Chatbox {...data} backClick = {backClick}/>\r\n        if(isTabletOrMobileDevice){\r\n            setMsgClicked(element)\r\n        }else{\r\n            ReactDOM.render(element, document.getElementById('chatbox')) \r\n        }\r\n    }\r\n\r\n    function backClick(){\r\n        setMsgClicked()\r\n    }\r\n\r\n    return(\r\n        <>\r\n            {!msgClicked && <div id = 'messages'>\r\n                <div id = 'msgTextHeader'>Messages</div>\r\n                {props.messages && props.messages.map(msg => <Chat key = {msg.id} uid = {props.uid} {...msg} displayChatBox = {displayChatBox}/>)}\r\n            </div>}\r\n            {isDesktopOrLaptop && <div id = 'chatbox'></div>}\r\n\r\n            {msgClicked}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default MessageLayout","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAADqklEQVRoge3ZTYhWVRzH8c84M6A0OSlEZZaLjMFeyByL3qhFiBvNIqXcRIswjKJdLSsscFtMr1RQCW3SghZlVtAmekGKQo0WlWlBlC9l6hTOPC3OOd1bTDP33rnPfZ7g+cLlzJznf/7n97/nnHvP+V969OjRo0cH6CthO4KbsQrn4jwM4DD24AO8hq8K+luG9bgeF2MhTuEADmIX3sDXJTROy0q8h1aBaxJvY/k0/i6PNpMFfb6L0dkEMIixXIeH8DxuEkbnNMwVRmYtnhZGpyXc2UfQn/PXj0fjb8nfU1gTfcyNPkewDi9Em3SDnhBmQCkW4P3o5Di2YH6BdqfjYYzHti/HAPqxLdaN46FoOxPzheBPyEbnjKJBDOaC+F6YCmVZjv3RxzZZEN/hsgr+RoW1k4IpNDJjsiAWVeg0sST6SHN9P86fhb9FsmAen8l4pTAfj6s2Ev9mVJhK41hRg78VwjSbmMlfejptqaHTxAPxqovHBI27/stgRPY0KbKwi5IWe10My56OF6bKOTmDW2L5On6rseOJeNXFr8KLkvCCxj8DuTGWb9bYabtIGlelinwgS2K5pzE51dkbyymfgseEeTfUmJzqDAlaj6WK/IikBXmqSUUVmYzl3/rzgRyJ5cLG5FQnaTycKvKB/BLLcxqTU52k8VCqyAfyRSyvaExOda6M5eepIh/Ix7G8ujE51bkqlp9M9eMy4UlwRDgbdCvzhJdiS9iNTMnuaLChIVFVuF3QOOVoJO6LRruVO883RR8+EzRuns5wHn6Mhre2X1dp1gvaDiow/e+NxgeEnWa3MCwE0MI9RRoM4NPY4MX26SrNS4Kmj5Q4FlwqSyDc3R5dpdgsaDmJi8o2vis2/kNuu9wBVkcNLdxZ1UlKRPyOa+rRVYrrhPxBoYTDdPTjVVkwTY7MDcJJtSWkYmd9XB4UjpZpjm6crcMCbIx9tbA9aqiFfiGFmXJUz6qQvizYz1ZZmvaVdvTTJ6RDJ2Inbwmp1bpYgJ3R94SQVm3r7mItjsYOv1HPbvlafCvbtK6pwWchluJLWeZ9q2rzeAAP4s/oa5+wC2+UITwnWzcf4oIS7ZfGNumzwTPCZ4WOsRo/REEnhDs8Zxr7PmySZW1+Er65dAVnYodsdHZi8RR2i/FOzm57bNt1bMDPgsijuC332zohwZEW9KbG1ZXkbCF/nO76GJ7M/b8DZ3VMXQXuELY1KYCTuL+jimbBJUKedm/8+3/NsO46afZohL8AQdD5tJ4fnIQAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAADwklEQVRoge2YTWgcZRjHf8/MFpNqEAWb2TbGFgUFPy5FWuwm1GObDI0okRSl9CCoBys9+NWCVjx46KWCxK9DQTRWqM3HbgulaMhuIvXgofhBUUrAuE48VKSNpOnOPB6SyU6S3ezO7KaTw/4u884z7/s8/+d95+OdBxo0aNAgTqSaTnk71W54sk9Fu4CtQBtgAlcRLqHyHQnz6+Tg6GQ1/hy7c5t6Xi/CkwiPodwFuMAUMAma9kxzaMvQ2B81JTC1Z3ebaRaOAQcWBK+Gq3BKTeONcoHzdqodj/dF6K3Kn3LSFffte9Pf/xk6gbzd0SOqnwN3VAi0nGuCvmClx08FjY6d6lPlk0j+VJ+zMuPDpS4apYxOd+qQqJ6OEAygRZGBfNeuV31Dvjt1WJUvIvsTOePYqVdKXVyxAgszf5oyyYVABe1DDVHRL0vFCoknqk8tX4klThfu+V+JNlOluLZwbKmXv4ShD90zPJ73DUtm2TQL71I/8TAvvF7iAVpuehwLGhZXIG+n2kW5QuW3Q9y4rpvY2nZudAoCK2BAD+tfPIBpmoV9/sliAgp74tETBdnrt4rPgMoDsWiJhN7vtwIPsVpxSInIFr8RfAt5MQiJhuD6zcAtxFQsYqIQ0FpMwODnWMREQfjFbxbfQqpD8agJT1DrYgJNs81p4HosisLx302Vs/7JYgJ3X7jwL2h/PJpCIPTfl8n9458u2QvJBj1OcQO2Hpkx3cTxoGFJAtaZib8Vfe3WaqoeUXlz09lRJ2hbsedPpsc/Bv321smqDlHGWx/PfrjcviIBATWMwn5YV9+FaTdh9Mk7Kz+2Jf+6WocvToM8DcyuubTKzKnwTLlCQdnfxmQ6+4NAL1BYM2mV8UTlwOaRXK5ch1X/e610bkRVDhLPPklVecnKZL9arVOVha2OHlEdAJrqIq0yroi8aI1kP6vUsepKwV/dqd0Igyh31qatIjOoPJvMZDPVdA5V6nC6nnhExTjHfGlxLbhqqGG3ZsYmqh0QqvZjZSZ+IpHoAC6FllaZyybGzjDiIULxKjk4Ojl7PbFD4YOwY8sifHPbbNOOTemx38IPrYG8nXpelH7g9ogubgi8bqVzJ6JqqLXch7O381E1vAHg4ZBDL6vI/s0j2R9riV9zAgC6ffsGJ9l8BDhK5dqSivApNzYets6fn6k1dl0S8HHsXTtV5STwYJlwv6vowdW+rGGpawIwvxrTyeaXFd6jWGedU/jImNv4Vj1mPUjdE/Bx7M5tqt4JQAzlUGsmd2WtYjVo0KBBfPwPL8Y2i7i/8wcAAAAASUVORK5CYII=\"","function Comment(props){\r\n    return(\r\n        <div className = 'commentWrapper'>\r\n            <img className = \"postCommentPhoto\" src={props.photo} alt = \"postCommentPhoto\"/>\r\n            <div className = 'commentTextWrapper'>\r\n                <p className = 'commentName'>{props.name}</p>\r\n                <p>{props.text}</p>\r\n            </div> \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Comment","import '../../css/fak.css'\r\nimport heart from '../../images/heart.png'\r\nimport filledHeart from '../../images/filledHeart.png'\r\nimport comment from '../../images/comment.png'\r\nimport defaultPic from '../../images/defaultPic.png'\r\nimport Comment from './Comment'\r\nimport { useState, useEffect } from 'react'\r\nimport { firestore, storage, auth, FieldValue } from '../../firebase'\r\nimport { useCollectionData } from 'react-firebase-hooks/firestore'\r\n\r\nfunction Post(props){\r\n    var [options, setOptions] = useState()\r\n    var [numLikes, setNumLikes] = useState()\r\n    var [numComments, setNumComments] = useState()\r\n    var [liked, setLiked] = useState(heart)\r\n    var [displayComment, setDisplayComment] = useState(false)\r\n\r\n    var postsQuery = firestore.collection('posts').doc(props.docId)\r\n    var [likes] = useCollectionData(postsQuery.collection('likes'), { idField: 'id' })\r\n    var [initalComments] = useCollectionData(postsQuery.collection('comments').orderBy('createdAt', 'asc').limit(10), { idField: 'id' })\r\n    var [comments, setComments] = useState()\r\n\r\n    var profilePic = props.profilePhoto ? props.profilePhoto : defaultPic\r\n    var optionsBtn\r\n    if(props.uid === auth.currentUser.uid){\r\n        optionsBtn = <div className = 'postOptionsBtn noselect' onClick = {showOptions}>&#10247;</div>\r\n    }\r\n\r\n    function showOptions(){\r\n        if(options === undefined){\r\n            setOptions(<div className = 'postOptions'>\r\n                            <button className = 'deletePostBtn' onClick = {deletePost}>Delete</button>\r\n                        </div>)\r\n        }else{\r\n            setOptions(undefined)\r\n        }\r\n    }\r\n\r\n    async function deletePost(){\r\n        await firestore.collection('posts').doc(props.docId).delete()\r\n        if(props.photo){\r\n            await storage.ref().child(props.docId).delete();\r\n        }\r\n    }\r\n\r\n    function likePost(){\r\n        postsQuery.collection('likes').doc(auth.currentUser.uid).get().then(doc => {\r\n            if(!doc.exists){\r\n                postsQuery.collection('likes').doc(auth.currentUser.uid).set({liked: 'yes'})\r\n                postsQuery.get().then(doc => {\r\n                    setNumLikes(doc.data().likes + 1)\r\n                    postsQuery.update({likes: doc.data().likes+1})\r\n                })\r\n            }else{\r\n                postsQuery.collection('likes').doc(auth.currentUser.uid).delete()\r\n                postsQuery.get().then(doc => {\r\n                    if(doc.data().likes > 1){\r\n                        setNumLikes(doc.data().likes - 1)\r\n                    }else{\r\n                        setNumLikes()\r\n                    }\r\n                    postsQuery.update({likes: doc.data().likes -1})\r\n                })\r\n                setLiked(heart)\r\n            }\r\n        })\r\n    }\r\n\r\n    function sendComment(e){\r\n        if(e.key === 'Enter' && e.target.value !== ''){\r\n            e.preventDefault()\r\n            postsQuery.collection('comments').add({\r\n                text: e.target.value,\r\n                uid: auth.currentUser.uid,\r\n                createdAt: FieldValue.serverTimestamp(),\r\n            }).then(() => {\r\n                e.target.value = ''\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        if(likes && likes.length > 0){\r\n            setNumLikes(likes.length)\r\n        }\r\n        if(liked !== filledHeart){\r\n            firestore.collection('posts').doc(props.docId).collection('likes').doc(auth.currentUser.uid).get().then(doc => {\r\n                if(doc.exists){\r\n                    setLiked(filledHeart)\r\n                }\r\n            })\r\n        }\r\n    }, [likes, liked, props.docId])\r\n\r\n    useEffect(() => {\r\n        if(initalComments && initalComments.length > 0){\r\n            setNumComments(initalComments.length)\r\n            var itemsProcessed = 0\r\n            initalComments.forEach( (item, i, self) => {\r\n                firestore.collection('users').doc(item.uid).get().then(doc => {\r\n                    itemsProcessed++\r\n                    self[i].name = doc.data().name\r\n                    self[i].photo = doc.data().photo\r\n                    if(itemsProcessed === self.length){\r\n                        setComments(initalComments)\r\n                    }\r\n                })\r\n            })\r\n        }\r\n    }, [initalComments])\r\n\r\n    return(\r\n        <>\r\n        <div className = \"post\">\r\n            <div className = \"postUserInfoWrapper\">\r\n                <div style = {{display: 'flex', flexDirection: 'row'}}>\r\n                    <img className = \"postProfile-pic\" src={profilePic} alt = \"profile pic\"/> \r\n                    <div className = \"postTextWrapper\">\r\n                        <div style = {{display: \"flex\", gap: \"10px\"}}>\r\n                            <b className = \"postName\">{props.name}</b>\r\n                            <div style = {{color: \"grey\"}}>{props.time}</div>\r\n                        </div>\r\n                        <p className = \"postText\">{props.text}</p>\r\n                    </div>\r\n                </div>\r\n                {optionsBtn}\r\n            </div>  \r\n            {options}\r\n            {props.photo && <img className = \"postPic\" src={props.photo} alt = \"post pic\"/> }\r\n            <div className = \"postIconWrapper\">\r\n                <div className = \"likeAndCommentWrapper\" onClick = {likePost}>\r\n                    <img className = \"likeBtn\"  src={liked} alt = \"heartIcon\"/> \r\n                    <p className = 'numLikesAndPosts'>{numLikes}</p>\r\n                </div>\r\n                <div className = 'likeAndCommentWrapper' onClick = {() => setDisplayComment(!displayComment)}>\r\n                    <img className = \"commentBtn\" src={comment} alt = \"commentIcon\"/> \r\n                    <p className = 'numLikesAndPosts'>{numComments}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        {displayComment &&\r\n            <div className = 'postComments'>\r\n                {comments && comments.map(comment => <Comment key = {comment.id} {...comment}/>)}\r\n                {numComments && <div className = 'commentInputLine'></div>}\r\n                <input className = 'postCommentInput' onKeyDown = {sendComment} placeholder = \"Write a comment!\" type=\"text\" name=\"name\" autoComplete = \"off\"/>\r\n            </div>\r\n        }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Post","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAADzElEQVRoge3Z62tcRRjH8U/aJKZNNWmkL/pCi2nUWq0WLN7witB/QUq9vPVKFcFLFUXBl4Iogm99UVQEry3FomCpVqv1ElvpRa2oELSoaFttWkjii2dOclJ2k92zZ7cr5AuHw56Zeeb37Dkz88wzzDHHHDPRUaKtc3E11mAIg1iEvlT+N47iEH7A5/gEv5SooTBDeBp7MVHlOpquauXf4Cksb7F2cB22Yiwn6Gs8j/XirQxUaDeQym7FCxjOtR/DFlzTZO2If21LrvNDeBTnNWBzEBvxY87uOw3arEoH7sc/qaMDuAXzSuxjHtbhYOrjGO4r0b5FeD0ZPy7eQGeZHZxCFx7DaOrzVfQ2anQAnyaDB3FJowbr4FJ8l/reif6ihs7El8nQh6am0VbSj+1Jw27xddTFfDErTWAbFpSprk4W4oOkZbPQVjOPp4bDOKt0afXThz1C0yO1NroMJ8Uidn5zdBXiQjFrnlDjWH1feH53E0UVZYPQ9t5sFW9MFb/V3Cm2KF3YJzReP1PFN1Kl9S0QVZTbhcbXqlXoF2PjMLpbJKoIZ+B3MVYmJ6J8iLFWvLrNwqF25YTQ2C00Y7ojWdS5rYWiipJpnIyU846sSvfhlskpTqZxVaXCA2IQtfP4yOgRWvdnD/JvpE9Et+08PjJG0zUZ/+UdmVDu/qLZdAjNmC78TzG1LWy1ogL0CK1Hsgd5R35N93NaqaggWaJiMgOTd2R3ul/RMjnFWZ3ue7IHeUd2pfsNLZNTnGwh/LhSYa/Y8GdjpV3pESHKqNjFVmST9g8a7xAaX5mp0uUYF4tju4bx+4Uj185W+a1UcUOTRRXhAaFtay2VB8VY+RcrmiiqXi4SmkZxca2N7hGe78Xi5uiqi36xa53AQ/U07MDLpnJap3O1700aJvC2AmFUt6l80k6cXaa6GunHjqRhlwZSpwvEbixLma4pQ12NrMb3qe+PlJDp7MKLyeBJPNyowVnoxhOmktiblJDEzrMuGT5cptEcnbhNHMtlJ113NqOj5aa+1TIZEinan5P9cbyJZfUYqWf1virdv6hSvhFLxZngMH7CXyLrkbFEnEStwJUiIbgylY3jXTyj/D9rGtmR29pTnnfiOdUPO4+LBbZa+Vd4UoNHbbUeTy8Vr35ErPxj6fkFeAk34TcR1iwT2Y1BsZguFs4eEUfU2fH0Z+J4eqQRB+ol+8fvSr+X4Fnx2UyIfGw7hTMVWSkEH8ODIqjMHMjC6ar7gnZhvliMKn3b23Hz6ZM2ndlmrXvFGxnBH+IsfIcY+PuaK22O/zf/AZh9+Zk/uRRIAAAAAElFTkSuQmCC\"","import Post from './Post'\r\nimport { firestore, storage } from '../../firebase'\r\nimport picture from '../../images/picture1.png'\r\nimport cancel from '../../images/cancel.png'\r\nimport { useState } from 'react'\r\n\r\nfunction Feed(props){\r\n    var [postImage, setPostImage] = useState()\r\n    function autoGrow() {\r\n        let element = document.getElementById('postArea')\r\n        element.style.height = \"5px\";   \r\n        element.style.height = (element.scrollHeight)+\"px\";\r\n    }\r\n    function sendPost(e){\r\n        if(e.key === 'Enter'){\r\n            e.preventDefault();\r\n            post()\r\n        }\r\n    }   \r\n\r\n    async function post(){\r\n        const msg = document.getElementById('postArea').value\r\n        if(msg === ''){\r\n            return\r\n        }\r\n        document.getElementById('postArea').value = ''\r\n\r\n        const postsRef = firestore.collection('posts')\r\n        const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']\r\n        const current = new Date()\r\n        const today = months[current.getMonth()] + ' ' + current.getDate()\r\n        const data = {\r\n            uid: props.uid,\r\n            text: msg,\r\n            createdAt: Date.now(),\r\n            time: today,\r\n            likes: 0,\r\n            comments: 0\r\n        }\r\n        const res = await postsRef.add(data)\r\n\r\n        const image = new Promise(resolve => {\r\n            if(document.querySelector(\"#postImage\").files[0] !== undefined){\r\n                resolve()\r\n            }\r\n        })\r\n\r\n        image.then(()=>{\r\n            const file = document.querySelector(\"#postImage\").files[0]\r\n            const ref = storage.ref()\r\n            const task = ref.child(res.id).put(file)\r\n            task.then(() => {\r\n                firestore.collection('posts').doc(res.id)\r\n                .update({                    \r\n                    photo: 'yes'\r\n                }) \r\n            })\r\n            removeImage()\r\n        })\r\n    }   \r\n\r\n    function showUploadedImage(){\r\n        const reader = new FileReader()\r\n        const file = document.querySelector('#postImage').files[0]\r\n        //if file is image\r\n        if(file && file['type'].split('/')[0] === 'image'){\r\n            reader.readAsDataURL(file)\r\n        }\r\n        reader.addEventListener(\"load\", function () {\r\n            // convert image file to base64 string\r\n            setPostImage(<div id = 'postImageWrapper'>\r\n                            <img id = \"removeImageBtn\" src = {cancel} onClick = {removeImage} alt = 'removeImage'/>\r\n                            <img id = \"uploadedPic\" src = {reader.result}alt = \"uploadPic\"/>\r\n                            <button id = 'postBtn' onClick = {post}>Post</button>\r\n                        </div>)\r\n        }, false)\r\n    }\r\n\r\n    function removeImage(){\r\n        document.getElementById('postImage').value = \"\";\r\n        setPostImage()\r\n    }\r\n\r\n    function homeClick(){\r\n        document.getElementById('content').scrollTop = 0\r\n    }\r\n    \r\n    return(\r\n        <div id = \"feedWrapper\">\r\n            <div id = \"homeHeader\" style = {{position: props.position}}>\r\n                <p style = {{cursor: 'pointer', width: '60px', fontSize: '22px'}}onClick = {homeClick}>Home</p>\r\n            </div>\r\n            <div id = \"feed\">\r\n                <div id = \"postInput\">\r\n                    <div id = \"postInputResp\">\r\n                        <form>\r\n                            <label>\r\n                                <img id = \"uploadPic\" src={picture} alt = \"uploadPic\"/> \r\n                                <input id = \"postImage\" onChange={showUploadedImage} type=\"file\" style = {{display:\"none\"}}/>\r\n                            </label>\r\n                        </form>\r\n                        <textarea id='postArea' placeholder='post something!' onInput={autoGrow} onKeyDown = {sendPost} type=\"text\" autoComplete=\"off\" maxLength=\"162\"></textarea>\r\n                    </div>  \r\n                    {postImage}\r\n                </div>\r\n                {!props.posts ? <div id = \"loader\"></div> : props.posts.map( (post, index, self) => {\r\n                    return <Post key = {post.id} name = {post.name} profilePhoto = {post.profilePic} text = {post.text} time = {post.time} photo = {post.photo ? post.photo: undefined} uid = {post.uid} docId = {post.id}/>\r\n                })}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Feed","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAABM0lEQVRYhe2W3WrCQBCFv4S+VilEBIMXpT5WEbwpVCn2rfoC2jdQ++dFepEJGddMdkO1e7MHQsJmNuebMyEEkpIiK1PXVQzv/J9Nz3TTsZZ1rF1SJ0lHT+CaAFPgHdgCZciGisu+iFv1zI3lE30EWr4EcoYBl9QpbIBJiE8fQA6s5fhraoMBGvPm/ksARF9agwC0+UGOClhhfy98aQUDZMCzMh8Bt8CeNgkXQu+pgNcOiCAAt/NC1Y2BD7n3pCCstNyReQG6Onc1Bj5px5E7ewrqtHaypsfhBbA6d1UCX1L7JucdcKdqCtokltKcFyDEvNFUQRypu3alIfT7YQJYsVuaKIiFUaPH4QUI6dzVPfAt++dGjU5i8JcwRA/AjzzjsQfiagAAMwVhJXHik/4Jk5Ki6xdOeZDYnBW7qwAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAABFUlEQVRIid2VTW7CQAyFP7UiZ+kCVrCDHqIpiDtBb0EERyoVZVsUtmFNWMyMVJk3kxDEon2SpZF/nh3P2IH/jgyYAxtgC5y8bIG1t2VdyafAHqgbZA/ktxA/Ax8tiK0sfWwjupD/TpLE+x3kQaLtyrju+RgYAaUgKoEhMDH6byIXPxckQ2/rmySl1+ELsHEzlWAjHI/AwNtfgB+hO4i4QiX4Eo622r45q9bVuDm5QhVxtl+SqjxIFRyfVKaWqBO2s1I+vEVr4aguVF28jVupBA9/pmrQJqQHbQS8Gv2OxIbNBdGt8hYjD7hn2S2ayMGt3GUH8tbrOiDHLa4m4h0t2hJDhnsRBfCJm9DKnwvcX6/Xlfxv4AK2lPndEfN11QAAAABJRU5ErkJggg==\"","import { auth, firestore } from '../../firebase'\r\n\r\nfunction SignOut(props) {\r\n  async function signOut(){\r\n    if(auth.currentUser.isAnonymous){\r\n      await firestore.collection('users').doc(auth.currentUser.uid).delete()\r\n    }\r\n    await auth.signOut()\r\n    props.socket.disconnect()\r\n  }\r\n  return auth.currentUser && (\r\n    <button id = 'signOutBtn' onClick={signOut}>Log Out</button>\r\n  )\r\n}\r\n\r\nexport default SignOut","import React, { Component } from 'react'\r\nimport Play from './Play/Play'\r\nimport OnlineSidebar from './RightSidebar/OnlineSidebar'\r\nimport MessageLayout from './Messages/MessageLayout'\r\nimport Feed from './Feed/Feed'\r\nimport Modal from 'react-modal'\r\nimport openSocket from 'socket.io-client'\r\nimport { firestore } from '../firebase'\r\nimport SignOut from './SignIn/SignOut'\r\nimport MediaQuery from 'react-responsive'\r\nimport homeIcon from '../images/home.png'\r\nimport playIcon from '../images/play.png'\r\nimport envelopeIcon from '../images/envelope.png'\r\nimport userIcon from '../images/user.png'\r\n\r\nModal.setAppElement('#root')\r\n\r\nconst customStyles = {\r\n    content : {\r\n      top                   : '30%',\r\n      left                  : '50%',\r\n      right                 : 'auto',\r\n      bottom                : 'auto',\r\n      marginRight           : '-50%',\r\n      transform             : 'translate(-50%, -50%)',\r\n      borderRadius          : '15px'\r\n    },\r\n    overlay: {\r\n        backgroundColor: \"rgba(0, 0, 0, 0.5)\"\r\n    }\r\n}\r\n\r\nclass Layout extends Component{\r\n    constructor(props){\r\n        super(props)\r\n        this.homeClick = this.homeClick.bind(this)\r\n        this.messagesClick = this.messagesClick.bind(this)\r\n        this.playClick = this.playClick.bind(this)\r\n        this.leaveMatch= this.leaveMatch.bind(this)\r\n        this.openModal = this.openModal.bind(this)\r\n        this.closeModal = this.closeModal.bind(this)\r\n        this.inputChange = this.inputChange.bind(this)\r\n        this.usersClick = this.usersClick.bind(this)\r\n        this.state = {home: true, users: false, messages: false, play: false, gameData: false, modalIsOpen: false, position: 'sticky'}\r\n    }\r\n\r\n    homeClick(){\r\n        this.setState({home: true, play: false})\r\n        document.getElementById('content').scrollTop = 0\r\n    }\r\n\r\n    playClick(){\r\n        this.setState({play: true, home: false, messages: false})\r\n    }\r\n\r\n    messagesClick(){\r\n        this.setState({messages: true, home: false, play: false})\r\n    }\r\n\r\n\r\n    leaveMatch(){\r\n        firestore.collection('users').doc(this.props.uid).update({inGame: 'no'})\r\n        firestore.collection('users').doc(this.state.gameData.otherUid).update({inGame: 'no'})\r\n        this.socket.emit('leftMatch', this.state.gameData.otherUid)\r\n        this.setState({gameData: undefined, play: true})\r\n    }\r\n\r\n    openModal(){\r\n        this.setState({modalIsOpen: true, position: 'inherit'})\r\n    }\r\n\r\n    closeModal(){\r\n        this.setState({modalIsOpen: false, position: 'sticky'})\r\n    }\r\n\r\n    usersClick(){\r\n        this.setState({users: true, play: false, home: false, messages: false})\r\n    }\r\n\r\n    inputChange(){\r\n        const reader = new FileReader();\r\n        const file = document.querySelector('#image-file').files[0];\r\n        reader.addEventListener(\"load\", function () {\r\n            // convert image file to base64 string\r\n            document.getElementById('change-pic').src = reader.result;\r\n        }, false);\r\n        if(file){\r\n            reader.readAsDataURL(file);\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n      let isMounted = true\r\n      //used for server\r\n      this.socket = openSocket({query: `uid=${this.props.uid}`})\r\n      //used for local\r\n      //this.socket = openSocket(\"http://localhost:5000\",{query: `uid=${this.props.uid}`})\r\n      this.socket.on('startGame', (data) =>{\r\n          if(isMounted){\r\n            this.socket.emit('setOpponnentUid', data.otherUid)\r\n            this.setState({gameData: data})\r\n            this.playClick()\r\n          }\r\n      })\r\n      return () => { isMounted = false }\r\n    }\r\n\r\n    render(){\r\n        const home = this.state.home\r\n        const messages = this.state.messages\r\n        const play = this.state.play\r\n        const users = this.state.users\r\n        let content\r\n        if(home){\r\n            content = <Feed posts = {this.props.posts} time = {this.props.time} position = {this.state.position} uid = {this.props.uid}/>\r\n        }else if(messages){\r\n            content = <MessageLayout messages = {this.props.messages} uid = {this.props.uid}/>\r\n        }else if(play){\r\n            content = <Play name = {this.props.name} uid = {this.props.uid} photo = {this.props.photo} socket = {this.socket} gameData = {this.state.gameData} leaveMatch = {this.leaveMatch}/>\r\n        }else if(users){\r\n            content = <MediaQuery maxDeviceWidth = {700} onChange={this.homeClick}>\r\n                        <OnlineSidebar name = {this.props.name} uid = {this.props.uid} photo = {this.props.photo} displayMsgs = {this.messagesClick}/>\r\n                    </MediaQuery>\r\n        }\r\n\r\n        return(\r\n            <div>\r\n                <Modal isOpen={this.state.modalIsOpen} onRequestClose={this.closeModal} id ='profile-modal' style = {customStyles}>\r\n                    <form>\r\n                        <label>\r\n                            <img id = \"change-pic\" src={this.props.photo} alt = \"profile pic\"/>\r\n                            <i id = \"upload-icon\" className = \"material-icons\">cloud_upload</i>\r\n                            <input id = \"image-file\" onChange = {this.inputChange} type=\"file\" style = {{display:\"none\"}}/>\r\n                        </label>\r\n                    </form>\r\n                    <div id = \"change-name\">\r\n                        <p id = 'changeNameHeader'>Name</p>\r\n                        <input className = \"input-field\" defaultValue = {this.props.name} id=\"changeNameInput\" maxLength=\"15\" type=\"text\" autoComplete = \"off\"/>\r\n                    </div>\r\n                    <button id = \"profile-submit\"  onClick={this.props.updateProfile}>Apply</button>\r\n                </Modal>\r\n                <div id = \"content\">\r\n                    <MediaQuery minDeviceWidth={700}>\r\n                        <div id = \"sidebar\">\r\n                            <img id = \"profile-pic\" onClick={this.openModal} src={this.props.photo} alt = \"profile pic\"/>                   \r\n                            <i id = \"profile-icon\" className = \"material-icons\">person</i>\r\n                            <button onClick = {this.homeClick} className = \"sidebar-btn\">Home</button>\r\n                            <button onClick = {this.playClick} className = \"sidebar-btn\">Play</button>\r\n                            <button onClick = {this.messagesClick} className = \"sidebar-btn\">Messages</button>\r\n                            <button onClick = {this.openModal} className = \"sidebar-btn\">Profile</button>\r\n                            <SignOut socket = {this.socket}/>\r\n                        </div>\r\n                    </MediaQuery>\r\n                    {content}\r\n                    <MediaQuery minDeviceWidth={1000}>\r\n                        {!this.state.play && <OnlineSidebar name = {this.props.name} uid = {this.props.uid} photo = {this.props.photo} displayMsgs = {this.messagesClick}/>}\r\n                        {this.state.play && !this.state.gameData && <OnlineSidebar name = {this.props.name} uid = {this.props.uid} photo = {this.props.photo} displayMsgs = {this.messagesClick}/>}\r\n                    </MediaQuery>   \r\n                </div>\r\n                <MediaQuery maxDeviceWidth = {700}>\r\n                    <div id = 'bottomSidebar'>\r\n                        <img onClick = {this.homeClick} className = \"bottomSidebarBtn\" src={homeIcon} alt = \"homeIcon\"/>\r\n                        <img onClick = {this.playClick} className = \"bottomSidebarBtn\" src={playIcon} alt = \"playIcon\"/>\r\n                        <img onClick = {this.messagesClick} className = \"bottomSidebarBtn\" src={envelopeIcon} alt = \"envelopeIcon\"/>\r\n                        <img onClick = {this.usersClick} className = \"bottomSidebarBtn\" src={userIcon} alt = \"userIcon\"/>\r\n                    </div>\r\n                </MediaQuery>  \r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default Layout","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAABQElEQVRYhe3WvS8EcRDG8Q8nIkFBFCIKjZJOdR2VTkWpuURJ6f4EpVZUOiqlkOhEodGoJHQ0EgmREHGrmWNPjnPvzX6TaXZmnnn2t7PZJaM5RiO6wjgucYXJTg+fwjWSiFtM/6gp51rODO5C/DwiwT1m221gDg8hfIphDOIorj0i3y4D83gK0UMMpHL92I/cCxZbbWAZbyG4i1yVmlzkklRtSwys4j3EttHzR20PtlLDmzawiVJEsY6+YvQkdfZ9kb6TEtYb0FjDh/+dXAU57Ph+lisNDC+zhNfQ2kNfrYZ+HKjc5mZZwLPqb08FQzj2vTz53wobIJ/SPYlZFYzgTAu3twpp7QuMpZOFSNz8w0BSI2r1lWcUfhZsYKIDBiZiVs3CevMN9fX+5aQTZAYyA5mBap/ItvzJ/jaz6yeQkfEJsCB4+A445oAAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAAB+UlEQVRoge3ZP8hNcRzH8ZfnkeihFEViwUYYbAapZ7DZlIVFWJQsTzYTshmtBguLQcmT2AwySBnkLuTPoBSip8cTw/HrHud3/517z73n/nTe9VvuuX1/n8/p+/2e3x8aGhr6MYNTeIQWnuAc1tQpalBmcQe/O4wWjmNVbeoG4KLO4vPjKQ7VJbAfr7SFXsFOXMBnsZG72F2PzO4sawucy/2+Edfx078mlnADmyYrszt5cZ3YgZtYKfz3Gy5j7QQ09qSfgcBBPBan1VuckXWyWhjUQGAeL8VGnuHwOAT2o6wBWC1765/ERhaxt2KNPRnGQGC9rA5+FOIsy+pmS0UaezKKgcB2meBfhXih0NeNqLEnVRgI7MF9cVq9k6XcbAVzRFRpIDCPF2Ijz3GkwnkwHgNkbfUkPoqNLGJfVRONy0BgDgv4WphrBbewddQJxm0gsE3nQv+Oa9gwbOBJGQjsx0NxWrVwYJiAkzYQOCr+on/A5rKB6jJA1lZP40tOw6WyQeo0EDiW03Cv+LC2VeKkmLYUWigbZJqK+L0EirhbG33z91lpmg9ZH5JdSiS9mEt2OZ3shibZLWWym/qkj1WSPdhK9mhx6g93l7RFJXm8ns/nq9glsQuO82KhxTHVV0wzuK2z8CQu+cgEnsADvJZ1m7MSuWZtaPjf+QNI1Ut1JfKs2wAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAACRUlEQVRoge2YXUtUQRiAH7+2wKAQCSIi8TKQCBVxFYTwL/gT7C+E/6BLkW66T5QuKtdLr4IuBCHoIogokDYRocAi0crd7WLew86OczwzZ885u+g8MDDsmfed5x3mzJ5zIBAIBAKBeGaBdWAPOAUaBbVT4BuwBsykEe8HnhYonNRWxMmZbpLXi3Bi1gh8DYwDJZ8VaJMSMAFUNI86UHYJXteCKjkJ+vCSps+qS8CeFjCen5czEzR9qi4B+mlT5LaJo0Tr6dRCryWgT+vfzUnKB92hL3aUhn4D/wWeAbey90pkGHgCnBhOidiOsN+S7HoepgaDwGPgZ4xLIuedxd8l+ZWsrYEB4BGwn+CQiD54HnhnSbIrk9nuIV96gAXgk2WeD3ItdQGI5ALwxTLBDvCwDfky8NaS9ytqgaKbtq0CIkqS9MAy4RbwwEP8HvDCkucHaotedXTyKiDimkzyyxhbF6nRc3LfQZ1q5pPtEeqQuJHSKdXg2yLzz4j5I7/f1MYOieCxMbaGKnokIyf/wajtsGHENYBDYEnaoeX6hsRm7uRbQMQU8MYiarZtYM4zdyEFRMwD7zkr/hF1mvWkyFloAaDenhaBz9IW8XyjcnWyrUYj4XoniHXK4p+0o4QCOs2FLKCm9bvllTKiZl60FXCg9ccy1/HnvtbfdwlYo3nmbuZh5Mkrmj7PXQJmaP3jqACTFP9haxK1gPrT7rRrghXOPgp0ui37rEB/FxVRF3mnTyomZdTnvCrFf16vytzO2yYQCAQCl4//kmO6LAngQEgAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAABdUlEQVRYhe2VTU7DMBCFP1JIFpDSNd2xbA8BEhLbEgRnqAgUjoG4A1wHyqL8Iwq9BWGBhAosPFYsREKc1BuUJ40SyW/evNieCdSoYY8AGABD4E1iCBwAvuvibeAG+MqIa+E4QWAUfwJ6QCixBYxl7QpHO3FoFG/9st4yTOy7MHAp4r0czrZwLlwYSEQ8zOE0hfNaVNSraOon5mwTbAw8ynMjh6PXHmyNFMEAtb1jsi/hs3BiFwYCVJ9rExHqzJuoy6eLj3A4kNqoPs8aRCNgxVVxDR/V5+eozkjkPabElzcs+QuoqbcJrALLqJv/AcwLZwJ82hopgkjEs7Zfx0RMzgwecGIUuEWN5Q6wKNEFjoA7g3fMjOaMLv4O9P8Q9YA94WoTlRAZxdcs8tYNE3n/jlz4pGfeL5EfS+4L6vJaY5f0zMucZQO4F42dLFKecCTPU8q11RQ4k/dSXaFHa6dMsqBLOrqtof//SxUMhKKRVNCoUeOf4xvYvW2oRfLVqAAAAABJRU5ErkJggg==\"","export default __webpack_public_path__ + \"static/media/pikachu.7e8bbe70.jpg\";","import { useState } from 'react'\r\nimport { auth, googleAuthProvider, firestore } from '../../firebase'\r\nimport pikachu from '../../images/pikachu.jpg'\r\nimport google from '../../images/googleicon.png'\r\nimport * as EmailValidator from 'email-validator'\r\n\r\nfunction SignIn(){\r\n    var [content, setContent] = useState(<LogIn setContent = {childSetContent}/>)\r\n    function childSetContent(component){\r\n      setContent(component)\r\n    }\r\n    return (\r\n        <div id = 'loginPage' style = {{backgroundImage: `url(${pikachu})`}}>\r\n          {content}\r\n        </div>\r\n      )\r\n}\r\n\r\nfunction LogIn(props){\r\n  var [email, setEmail] = useState()\r\n  var [password, setPassword] = useState()\r\n\r\n  function signInWithGoogle(){\r\n    const provider = googleAuthProvider;\r\n    auth.signInWithPopup(provider);\r\n  }\r\n\r\n  function tryLogIn(){\r\n    auth.signInWithEmailAndPassword(email, password)\r\n    .then((user) => {\r\n      console.log('signedIn')\r\n    })\r\n    .catch((error) => {\r\n      var errorCode = error.code;\r\n      var errorMessage = error.message;\r\n      console.log(errorCode, errorMessage)\r\n    });\r\n  }\r\n  \r\n  return(\r\n    <div id = 'loginSection'>\r\n      <div id = 'loginWrapper'>\r\n        <p id = 'loginHeader'>LOGIN</p>\r\n        <input className = 'loginInput' onInput={e => setEmail(e.target.value)} \r\n               type=\"email\" style = {{marginBottom: '10px'}} placeholder = \"Email\"/>\r\n        <input className = 'loginInput' onInput={e => setPassword(e.target.value)} \r\n               type=\"password\" name=\"password\" placeholder = \"Password\"/>\r\n        <button className = 'loginBtn' onClick = {tryLogIn} style = {{top: '7%'}}>LOGIN</button>\r\n        {/* <img id = 'googleLogin' src={google} alt = \"google icon\"/> */}\r\n        <button className = 'loginBtn' style = {{top: '9.5%'}} \r\n          onClick = {()=> props.setContent(<LogInAnonymous setContent = {props.setContent}/>)}>ENTER AS GUEST</button>\r\n        <button id = \"googleBtn\" className = 'loginBtn' onClick={signInWithGoogle}>LOGIN WITH GOOGLE</button>\r\n        <p onClick = {()=> props.setContent(<Register setContent = {props.setContent}/>)} style = {{position: 'relative', top: '21%', cursor: 'pointer'}}>Or Sign Up Here</p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction Register(props){\r\n  var [email, setEmail] = useState()\r\n  var [password, setPassword] = useState()\r\n  var [username, setUsername] = useState()\r\n\r\n  function tryRegister(){\r\n    if(EmailValidator.validate(email) && password && password.length > 3){\r\n      auth.createUserWithEmailAndPassword(email, password)\r\n        .then(() => {\r\n          firestore.collection('users').doc(auth.currentUser.uid).set({\r\n            name: username,\r\n            win: 0, \r\n            loss: 0,\r\n            status: 'online',\r\n          })\r\n        })\r\n        .catch((error) => {\r\n          var errorCode = error.code;\r\n          var errorMessage = error.message;\r\n          console.log(errorCode, errorMessage)\r\n        });\r\n    }\r\n  }\r\n\r\n  return(\r\n    <div id = 'loginSection' style = {{height: '528px'}}>\r\n      <div id = 'loginWrapper'>\r\n        <p id = 'loginHeader'>REGISTER</p>\r\n        <input className = 'loginInput' onInput={e => setEmail(e.target.value)} type=\"email\" style = {{marginBottom: '10px'}} placeholder = \"Email\"/>\r\n        <input className = 'loginInput' onInput={e => setUsername(e.target.value)} type = \"name\" style = {{marginBottom: '10px'}} placeholder = \"Username\"/>\r\n        <input className = 'loginInput' onInput={e => setPassword(e.target.value)} type=\"password\" placeholder = \"Password\"/>\r\n        <button className = 'loginBtn' onClick = {tryRegister} style = {{top: '7%'}}>Register</button>\r\n        <p onClick = {()=> props.setContent(<SignIn/>)} style = {{position: 'relative', top: '14%', cursor: 'pointer'}}>Log In</p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction LogInAnonymous(props){\r\n  var [username, setUsername] = useState()\r\n  function tryLogInAnon(){\r\n    auth.signInAnonymously()\r\n    .then(() => {console.log(username)\r\n      firestore.collection('users').doc(auth.currentUser.uid).set({\r\n        name: username,\r\n        win: 0, \r\n        loss: 0,\r\n        status: 'online',\r\n        anonymous: 'true'\r\n      })\r\n    })\r\n    .catch((error) => {\r\n      var errorCode = error.code;\r\n      var errorMessage = error.message;\r\n      console.log(errorCode, errorMessage)\r\n    });\r\n  }\r\n  return(\r\n    <div id = 'loginSection' style = {{height: '360px'}}>\r\n      <div id = 'loginWrapper'>\r\n        <p id = 'loginHeader' style = {{paddingBottom: '33px'}}>Enter Username</p>\r\n        <input className = 'loginInput' onInput={e => setUsername(e.target.value)} type=\"name\" style = {{marginBottom: '10px'}} placeholder = \"Username\"/>\r\n        <button className = 'loginBtn' onClick = {tryLogInAnon} style = {{top: '7%'}}>Enter</button>\r\n        <p onClick = {()=> props.setContent(<SignIn/>)} style = {{position: 'relative', top: '17%', cursor: 'pointer'}}>Go Back</p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SignIn","import Layout from './components/Layout'\nimport SignIn from './components/SignIn/SignIn'\nimport './css/App.css'\nimport './css/fak.css'\nimport { firestore, auth, storage } from './firebase'\nimport { useAuthState } from 'react-firebase-hooks/auth'\nimport React, { useState, useEffect } from 'react'\nimport { useCollectionData } from 'react-firebase-hooks/firestore'\nimport { GameProvider } from './GameProvider'\nimport dog from './images/defaultPic.png'\n\nfunction App() {\n  const [user] = useAuthState(auth)\n  var [username, setUsername] = useState()\n  var [photoLink, setPhoto] = useState()\n  var [privateChats, setChats] = useState()\n  var [posts, setPosts] = useState(false)\n  var chatsQuery, postsQuery\n\n\n  if(user){\n    postsQuery = firestore.collection('posts').orderBy('createdAt', 'desc').limit(25)\n    chatsQuery = firestore.collection('chats').where('users', 'array-contains-any', [user.uid]).limit(25)\n  }\n\n  //listens for any updates in these queries and updates in useEffects\n  const [chats] = useCollectionData(chatsQuery, { idField: 'id' })\n  const [initalPosts] = useCollectionData(postsQuery, { idField: 'id' })\n\n  //sets username and photo\n  useEffect(()=>{\n    if(user){\n      //set the name and photo of current user\n      var usersRef = firestore.collection('users')\n      usersRef.doc(user.uid).get().then(function(doc){\n        if(doc.exists){\n          setUsername(doc.data().name)\n          doc.data().photo ? setPhoto(doc.data().photo) : setPhoto(dog)\n        }else{\n          setUsername(user.displayName)\n          setPhoto(user.photoURL)\n          usersRef.doc(user.uid).set({\n            name: user.displayName,\n            photo: user.photoURL,\n            status: 'online',\n            win: 0,\n            loss: 0\n          })\n        }\n      })\n    } \n\n  }, [user, username, photoLink]) \n\n  //sets the messages data with the other user's name and photo\n  useEffect(() => {\n    async function setChatsData(thisUser){\n      var usersRef = firestore.collection('users')\n      for(var i = 0; i < chats.length; i++){\n        var otherUid\n        if(chats[i].users[0] === thisUser.uid){\n          otherUid = chats[i].users[1]\n        }else{\n          otherUid = chats[i].users[0]\n        }\n        var user = await usersRef.doc(otherUid).get()  \n        chats[i].name = user.data().name\n        chats[i].photo = user.data().photo\n        chats[i].otherUid = otherUid\n      }\n      setChats(chats)\n    }\n    if(user && chats && chats.length > 0){\n      setChatsData(user)\n    }\n  }, [chats, user])\n    \n  //sets the post data from user uid\n  useEffect(() => {\n    async function setPostsData(){\n      var usersRef = firestore.collection('users')\n      for(var i = 0; i < initalPosts.length; i++){\n        var user = await usersRef.doc(initalPosts[i].uid).get()  \n        initalPosts[i].name = user.data().name\n        initalPosts[i].profilePic = user.data().photo\n  \n        if(initalPosts[i].photo){\n          var url = await storage.ref().child(initalPosts[i].id).getDownloadURL()\n          initalPosts[i].photo = url\n        }\n      }\n      setPosts(initalPosts)\n    }\n    if(user && initalPosts && initalPosts.length > 0){\n      setPostsData(initalPosts)\n    }\n  }, [username, photoLink, user, initalPosts])\n\n  async function updateProfile(){\n    const image = new Promise(resolve => {\n      if(document.querySelector(\"#image-file\").files[0] !== undefined){\n        resolve();\n      }\n    })\n\n    image.then(() => {\n      const file = document.querySelector(\"#image-file\").files[0];\n      const ref = storage.ref();\n      const name = user.uid;\n      //insert image into storage\n      const task = ref.child(name).put(file);\n      task.then(snapshot => {\n          snapshot.ref.getDownloadURL().then(url =>{\n              setPhoto(url)\n              //update user's photo in 'users' collection\n              firestore.collection('users').doc(user.uid)\n              .update({                    \n                  photo: url\n              }); \n          })\n      })\n    })\n\n    const inputName = document.getElementById('changeNameInput').value\n    if(inputName !== user.displayName && inputName !== ''){\n      setUsername(inputName);\n      //update user's name in 'users' collection\n      firestore.collection('users').doc(user.uid)\n      .update({\n        name: inputName\n      })\n    }\n  }\n  return (\n    <div className=\"App\">\n      <GameProvider>\n        {user ? <Layout posts = {posts} messages = {privateChats} updateProfile = {updateProfile} name = {username} photo = {photoLink} uid = {user.uid}/> : <SignIn/>}\n      </GameProvider>\n    </div>\n  );\n}\n\n\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}